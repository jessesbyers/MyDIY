<h1> Create a New Collaboration</h1>

<% if @collaboration.errors.any? %>
<div id="error_explanation">
  <h2>
    <%= pluralize(@collaboration.errors.count, "error") %>
    prohibited this post from being saved:
  </h2>
  <ul>
  <% @collaboration.errors.full_messages.each do |msg| %>
    <li><%= msg %></li>
  <% end %>
  </ul>
</div>
<% end %>

<%= form_for(@collaboration) do |f| %>
  Choose a <%= f.label :user_id %>
  <%= f.collection_select :user_id, User.all_except(current_user), :id, :username %><br>

  Choose their <%= f.label :role %>
  <%= f.select  :role, [["Update and View", "Update and View"], ["View Only", "View Only"]] %><br>
    
  Choose a <%= f.label :project_id %> to Collaborate on
  <%= f.collection_select :project_id, Collaboration.project_user_is_owner(current_user), :id, :address %><br>

  <%= f.submit %>
<% end %>