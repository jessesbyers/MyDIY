<h1> Create a New Project </h1>

<% if @project.errors.any? %>
<div id="error_explanation">
  <h2>
    <%= pluralize(@project.errors.count, "error") %>
    prohibited this post from being saved:
  </h2>
  <ul>
  <% @project.errors.full_messages.each do |msg| %>
    <li><%= msg %></li>
  <% end %>
  </ul>
</div>
<% end %>

<%= form_for(@project) do |f| %>

    <div>
        <%= f.label :address %>
        <%= f.text_field :address %>
        <br>

        <%= f.label "Add Project Collaborators" %>
        <%= f.collection_check_boxes :user_ids, User.all, :id, :username,  { checked: current_user.id } %>

    </div>

    <h3> Create Goals for your Project </h3>
        <%= f.fields_for :goals do |ff| %>
            <div>
                <%= ff.hidden_field :id %>

                <%= ff.label :title %>
                <%= ff.text_field :title %>
                <br>

                <%= ff.label :description %>
                <%= ff.text_field :description %>
                <br>

                <%= ff.label :budget %>
                <%= ff.number_field :budget %>
                <br>

                <%= ff.label :status %>
                <%= ff.select :status, [["Not Started", "Not Started"], ["Incomplete", "Incomplete"], ["Completed", "Completed"]] %>
                <br>
            </div>
            <% end %>
    <%= f.submit %>
<% end %>